<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Guru v2 - SDN TANTA HULU</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --neon-blue: #00f3ff;
            --neon-purple: #bc13fe;
            --neon-green: #0aff0a;
            --neon-yellow: #ffd700;
            --neon-red: #ff0055;
            --glass-bg: rgba(15, 15, 25, 0.95);
            --glass-border: rgba(255, 255, 255, 0.1);
            --text-color: #e0e0e0;
        }

        * { box-sizing: border-box; font-family: 'Rajdhani', sans-serif; }

        body {
            margin: 0;
            background-color: #0a0a15;
            color: var(--text-color);
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(0, 243, 255, 0.1) 0%, transparent 40%),
                radial-gradient(circle at 90% 80%, rgba(188, 19, 254, 0.1) 0%, transparent 40%);
            min-height: 100vh;
            padding: 20px;
        }

        .container { max-width: 1600px; margin: 0 auto; }

        header {
            text-align: center;
            margin-bottom: 20px;
            padding: 15px;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.8rem;
            margin: 0;
            background: linear-gradient(90deg, var(--neon-blue), var(--neon-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }

        .tab-btn {
            background: rgba(255,255,255,0.05);
            border: 1px solid var(--glass-border);
            color: white;
            padding: 10px 25px;
            cursor: pointer;
            border-radius: 8px;
            font-family: 'Orbitron', sans-serif;
            transition: 0.3s;
        }

        .tab-btn.active {
            background: var(--neon-blue);
            color: black;
            box-shadow: 0 0 15px var(--neon-blue);
        }

        .content-section { display: none; }
        .content-section.active { display: block; }

        .table-container {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            overflow-x: auto;
            backdrop-filter: blur(10px);
            max-height: 70vh;
        }

        table { width: 100%; border-collapse: collapse; min-width: 1000px; }
        th {
            position: sticky; top: 0; background: #1a1a2e; z-index: 10;
            color: var(--neon-blue); padding: 5px; font-size: 0.8rem;
            border-bottom: 2px solid var(--glass-border);
            vertical-align: bottom;
        }

        td { padding: 5px; border-bottom: 1px solid var(--glass-border); text-align: center; }

        .name-cell { position: sticky; left: 0; background: #111120; z-index: 5; text-align: left; min-width: 250px; padding-left: 10px; border-right: 2px solid var(--glass-border); }

        .absensi-select {
            background: #222; 
            color: white; 
            border: 1px solid #555; 
            border-radius: 4px; 
            padding: 4px 2px; 
            width: 100%; 
            text-align: center;
            cursor: pointer;
            font-weight: bold;
        }

        .status-h { color: var(--neon-green); background: rgba(10, 255, 10, 0.15); border-color: var(--neon-green); }
        .status-s { color: var(--neon-yellow); background: rgba(255, 215, 0, 0.15); border-color: var(--neon-yellow); }
        .status-i { color: var(--neon-blue); background: rgba(0, 243, 255, 0.15); border-color: var(--neon-blue); }
        .status-a { color: var(--neon-red); background: rgba(255, 0, 85, 0.15); border-color: var(--neon-red); }

        .sunday-header { background: #500 !important; color: white !important; }
        .sunday-col { background: rgba(255, 0, 0, 0.1); }
        
        .rekap-cell { font-weight: bold; width: 40px; }
        
        .info-bar {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            background: rgba(255,255,255,0.05);
            padding: 10px;
            border-radius: 8px;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1>SDN TANTA HULU - DASHBOARD GURU</h1>
            <p style="color: #888; font-size: 0.9rem;">SISTEM ABSENSI MANUAL DIGITAL & PENGOLAH NILAI</p>
        </header>

        <div class="nav-tabs">
            <button class="tab-btn active" onclick="switchTab('absen')">ABSENSI JANUARI</button>
            <button class="tab-btn" onclick="switchTab('nilai')">PENGOLAH NILAI</button>
        </div>

        <!-- SECTION ABSENSI -->
        <div id="absen-section" class="content-section active">
            <div class="info-bar">
                <span>üóìÔ∏è Bulan: <b>Januari 2026</b></span>
                <span style="color: var(--neon-blue);">Status: Siap diinput manual ‚úì</span>
            </div>
            <div class="table-container">
                <table>
                    <thead>
                        <tr id="absensiHeader"></tr>
                    </thead>
                    <tbody id="absenTableBody"></tbody>
                </table>
            </div>
        </div>

        <!-- SECTION NILAI -->
        <div id="nilai-section" class="content-section">
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>NO</th>
                            <th style="text-align:left; padding-left:10px;">NAMA SISWA</th>
                            <th>AGAMA</th><th>PKN</th><th>BIN</th><th>MTK</th><th>IPAS</th>
                            <th>SNR</th><th>PJK</th><th>ING</th><th>MLK</th><th>BTQ</th><th>AKT</th>
                            <th>JLH</th><th>RANK</th>
                        </tr>
                    </thead>
                    <tbody id="nilaiTableBody"></tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        const studentNames = [
            "Hafizah Almunawarah", "Riska Nur Aida", "Muhammad Firdaus", "Muhammad Zafran Alhanan",
            "Adiba Elma Nafia", "Reza Muhammad", "Sintia Bella", "Yobel Dirga Simatupang",
            "Ahmad Asy Nazmi Sauri", "Muhammad Arsy Aden", "Zaky Azka Rabbani", "Muhammad Faiz Munaffaq",
            "Muhammad Ibnu Bilhair", "Renanda Saputra Ramadhan", "Muhammad Binu Sina", "Muhammad Rizqy Alfarid",
            "Rifqi Dava Saputra", "Said Fadillah", "Nor Salwa Salsabilah", "Fathia Taslima",
            "Devea May Wulandari", "Muhammad Fauza Bahid"
        ];

        let students = studentNames.map((name, index) => ({
            no: index + 1,
            nama: name,
            nilai: Array(11).fill(0),
            absen: Array(31).fill('.')
        }));

        function switchTab(tab) {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
            event.target.classList.add('active');
            document.getElementById(tab + '-section').classList.add('active');
        }

        function renderAbsen() {
            const header = document.getElementById('absensiHeader');
            const tbody = document.getElementById('absenTableBody');
            const year = 2026;
            const month = 0; // Januari
            const daysInMonth = 31;

            // Header
            let hHtml = `<th>NO</th><th class="name-cell">NAMA SISWA</th>`;
            for(let i=1; i<=daysInMonth; i++) {
                let isSunday = new Date(year, month, i).getDay() === 0;
                hHtml += `<th class="${isSunday?'sunday-header':''}">${i}</th>`;
            }
            hHtml += `<th class="rekap-cell" style="color:var(--neon-green)">H</th>
                      <th class="rekap-cell" style="color:var(--neon-yellow)">S</th>
                      <th class="rekap-cell" style="color:var(--neon-blue)">I</th>
                      <th class="rekap-cell" style="color:var(--neon-red)">A</th>`;
            header.innerHTML = hHtml;

            // Body
            tbody.innerHTML = '';
            students.forEach((s, sIdx) => {
                let tr = document.createElement('tr');
                let html = `<td>${s.no}</td><td class="name-cell">${s.nama}</td>`;
                
                let stats = { H:0, S:0, I:0, A:0 };
                
                s.absen.forEach((val, dIdx) => {
                    if(stats.hasOwnProperty(val)) stats[val]++;
                    let isSunday = new Date(year, month, dIdx+1).getDay() === 0;
                    let colorClass = val !== '.' ? `status-${val.toLowerCase()}` : '';
                    
                    html += `<td class="${isSunday?'sunday-col':''}">
                        <select class="absensi-select ${colorClass}" onchange="updateAbsen(${sIdx}, ${dIdx}, this.value)">
                            <option value="." ${val==='.'?'selected':''}>.</option>
                            <option value="H" ${val==='H'?'selected':''}>H</option>
                            <option value="S" ${val==='S'?'selected':''}>S</option>
                            <option value="I" ${val==='I'?'selected':''}>I</option>
                            <option value="A" ${val==='A'?'selected':''}>A</option>
                        </select>
                    </td>`;
                });

                html += `<td class="rekap-cell" style="color:var(--neon-green)">${stats.H}</td>
                         <td class="rekap-cell" style="color:var(--neon-yellow)">${stats.S}</td>
                         <td class="rekap-cell" style="color:var(--neon-blue)">${stats.I}</td>
                         <td class="rekap-cell" style="color:var(--neon-red)">${stats.A}</td>`;
                tr.innerHTML = html;
                tbody.appendChild(tr);
            });
        }

        function updateAbsen(sIdx, dIdx, val) {
            students[sIdx].absen[dIdx] = val;
            renderAbsen();
        }

        function renderNilai() {
            const tbody = document.getElementById('nilaiTableBody');
            tbody.innerHTML = '';
            students.forEach(s => {
                let total = s.nilai.reduce((a, b) => a + b, 0);
                tbody.innerHTML += `
                    <tr>
                        <td>${s.no}</td>
                        <td class="name-cell">${s.nama}</td>
                        ${s.nilai.map(v => `<td>${v}</td>`).join('')}
                        <td style="color:var(--neon-blue)">${total}</td>
                        <td>-</td>
                    </tr>
                `;
            });
        }

        window.onload = () => {
            renderAbsen();
            renderNilai();
        };
    </script>
</body>
</html>